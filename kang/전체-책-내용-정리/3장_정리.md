# 3장 - 긴 코드 조각내기

---

> 이번 장에서 다루는 내용
>
> 1. 다섯 줄 제한으로 지나치게 긴 메서드 식별하기
> 2. 세부 사항을 보지 않고 코드 작업하기
> 3. 메서드 추출로 긴 메서드 분해하기
> 4. 호출 또는 전달, 한 가지만 할 것(EITHER CALL OR PASS) 이 방법으로 추상화 수준을 맞춰야 한다.
> 5. if 문은 함수의 시작에만 배치하는 방식으로 if문 분리하기

### 다섯 줄의 기준

- 문장이라고 하는 코드 한 줄은 하나의 if, for, while 또는 세미콜론으로 끝나는 모든 것을 말한다.
    - 즉, 할당, 메서드 호출, return 같은 것들이다.
    - 공백이나 중괄호는 제외

### 왜 다섯 줄인가

- 메서드가 길다는 것 자체가 코드 스멜이다.
    - 길다는 게 정확한 정의는 어렵겠지만 이를 다섯 줄로 제한한다면 메서드를 이해하는데 도움이 된다.
- `20줄의 메서드 vs 5줄의 메서드 4개` 가 존재한다고 하면 `5줄의 메서드 4개`가 훨씬 읽기 편한다.

## 요약

- **다섯 줄 제한** 규칙은 메서드는 다섯 줄 이하여야 한다는 말이다.
    - 이것은 두 가지 이상의 작업을 수행하는 메서드를 식별하는 데 도움이 된다.
    - 리팩터링 패턴인 메서드 추출을 사용해서 긴 메서드를 분해하고 메서드 이름으로 주석을 대신한다.
- **호출 또는 전달, 한 가지만 할 것** 규칙은 메서드 내에서 객체에 있는 메서드를 호출하거나 객체를 매개변수로 전달할 수 있지만, **둘 다 해서는 안 된다**는 말이다.
    - 여러 수준의 추상화가 섞여 있는 메서드를 식별하는 데 도움이 된다.
    - 이 또한 **메서드 추출**을 사용해 서로 다른 수준의 추상화를 분리한다.
- 메서드 이름은 투명하고 완전해야 하며 이해할 수 있어야 한다.
    - 메서드 추출을 사용하면 가독성이 향상되도록 매개변수의 이름을 바꿀 수 있다.
- **if 문은 함수의 시작에만** 배치 규칙은 if를 사용해 조건을 확인하는 경우 한 가지 작업만 수행하므로 메서드가 다른 작업을 수행하지 못하게 한다.
    - 이 규칙은 또한 하나 이상의 작업을 수행하는 메서드를 식별하는 데 도움이 된다.
    - if 문을 분리하기 위해 메서드 추출을 사용한다.